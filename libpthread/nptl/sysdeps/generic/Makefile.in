# Makefile for uClibc NPTL
#
# Copyright (C) 2006 Steven J. Hill <sjhill@uclibc.org>
#
# Licensed under the LGPL v2.1, see the file COPYING.LIB in this tarball.
#
subdirs += libpthread/nptl/sysdeps/generic
#
# NOTE: Alpha and MIPS have their own versions of 'libc-tls.c' in
#       their architecture specific directory which will override
#       the one here.
#

PTHREAD_LIBC_TLS_DIR := $(top_srcdir)libpthread/nptl/sysdeps/generic
PTHREAD_LIBC_TLS_OUT := $(top_builddir)libpthread/nptl/sysdeps/generic

PTHREAD_LIBC_TLS_CSRC = dl-tls.c libc-tls.c
PTHREAD_LIBC_TLS_OBJS = $(patsubst %.c,$(PTHREAD_LIBC_TLS_OUT)/%.o,$(PTHREAD_LIBC_TLS_CSRC))

CFLAGS-generic = $(SSP_ALL_CFLAGS)

objclean-y += CLEAN_libpthread/nptl/sysdeps/generic

CLEAN_libpthread/nptl/sysdeps/generic:
	$(do_rm) $(addprefix $(PTHREAD_LIBC_TLS_OUT)/*., o os oS)
