# Makefile for uClibc
#
# Copyright (C) 2000-2005 Erik Andersen <andersen@uclibc.org>
#
# Licensed under the LGPL v2.1, see the file COPYING.LIB in this tarball.
#

CFLAGS+=$(SSP_ALL_CFLAGS)

#DOMULTI=y

LIB_NAME:=libutil

libutil_DIR:=$(top_srcdir)libutil
libutil_OUT:=$(top_builddir)libutil

libutil_SRC:=$(wildcard $(libutil_DIR)/*.c)
ifneq ($(ARCH_HAS_MMU),y)
libutil_SRC:=$(filter-out $(libutil_DIR)/forkpty.c,$(libutil_SRC))
endif
libutil_OBJ:=$(patsubst $(libutil_DIR)/%.c,$(libutil_OUT)/%.o,$(libutil_SRC))

libutil-a-y:=$(libutil_OBJ)
libutil-a-pic-y:=$(libutil_OBJ:.o=.os)
libutil-so-y:=$(libutil_OBJ:.o=.os)

libutil-multi-y:=$(libutil_SRC)

objclean-y+=libutil_clean

lib-a-y+=$(top_builddir)lib/libutil.a
lib-a-pic-y+=$(top_builddir)lib/libutil.a
lib-so-y+=$(top_builddir)lib/libutil.so
